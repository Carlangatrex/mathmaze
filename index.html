<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Math Maze</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="libs/p5.js"></script>
    <script src="libs/p5.sound.js"></script>
  </head>
  <body style="margin: 0; padding: 0">
    <div id="cover-page">
      <video
        id="background-video"
        onclick="this.play(); this.onclick=null;"
        loop
        width="60%"
        height="auto"
        style="display: block; margin: 0 auto"
      >
        <source src="assets/Videos/videojuego.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
      <button id="start-button" style="display: block; margin: 20px auto">
        Iniciar Juego
      </button>
    </div>
    <div id="game-container" style="display: none">
      <!-- Contenido del juego aquÃ­ -->
      <!-- Primera columna: Ecuaciones, vidas y puntaje -->
      <div id="left-column">
        <h2>Resuelve:</h2>
        <div id="equation-box"></div>
        <input
          type="text"
          id="user-answer"
          placeholder="Ingresa tu respuesta"
          style="display: none"
        />
        <button id="submit-answer" style="display: none">
          Enviar Respuesta
        </button>
        <h2>Vidas:</h2>
        <div id="lives-container">
          <!-- Hearts will be added here by JavaScript -->
        </div>
        <h2>Puntaje: <span id="score">0</span></h2>
      </div>

      <!-- Segunda columna: Laberinto -->
      <div id="middle-column">
        <canvas id="gameCanvas"></canvas>
      </div>
    </div>
    <script src="game.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        document
          .getElementById("start-button")
          .addEventListener("click", () => {
            console.log("Start button clicked!");
            startAudio();
            document.getElementById("cover-page").style.display = "none";
            document.getElementById("game-container").style.display = "flex";

            const video = document.getElementById("background-video");
            video.pause();
            video.currentTime = 0;
          });
      });
    </script>
  </body>
</html>
